๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั
text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   CLUSTER ANALYSIS SYSTEM                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                      โ
โ  โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ          โ
โ  โ DataLoader   โ โ โ Cluster      โ โ โ Fundamental  โ          โ
โ  โ ะะฐะณััะทะบะฐ     โ    โ Analyzer    โ    โ Analyzer    โ          โ
โ  โ ะดะฐะฝะฝัั      โ    โ KMeans/PCA  โ    โ ะกะบะพัะธะฝะณ     โ          โ
โ  โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ          โ
โ                           โ                    โ                    โ
โ                           โผ                    โผ                    โ
โ                    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ            โ
โ                    โ Portfolio    โ โ โ Portfolio   โ            โ
โ                    โ Visualizer  โ    โ Optimizer  โ            โ
โ                    โ ะัะฐัะธะบะธ     โ    โ ะะฐัะบะพะฒะธั  โ            โ
โ                    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ            โ
โ                           โ                    โ                    โ
โ                           โผ                    โผ                    โ
โ                    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ            โ
โ                    โ Report      โ    โ Portfolio   โ            โ
โ                    โ Generator   โ    โ Manager    โ            โ
โ                    โ Excel       โ    โ ะะตััะธะบะธ    โ            โ
โ                    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ            โ
โ                                                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฅ 1. DataLoader โ ะทะฐะณััะทะบะฐ ะธ ะฟะพะดะณะพัะพะฒะบะฐ ะดะฐะฝะฝัั
ะะพะฝะฒะตััะฐัะธั ัะธัะตะป
python
def convert_to_float(value):
    if "ะผะปัะด" in value: return float(...) * 1e9
    if "ะผะปะฝ" in value: return float(...) * 1e6
ะะฐัะตะผ: ะะพััะธะนัะบะธะต ะพััะตัั ัะฐััะพ ัะพะดะตัะถะฐั ัััะพะบะธ ัะธะฟะฐ "123 456 ะผะปะฝ" โ ะฝัะถะฝะพ ะฟัะตะพะฑัะฐะทะพะฒะฐัั ะฒ ัะธัะปะฐ.

ะะฟัะตะดะตะปะตะฝะธะต ัะตะบัะพัะฐ
python
def assign_sector(name):
    if any(word in name for word in SECTOR_KEYWORDS_CLUSTER.BANKS):
        return "ะะฐะฝะบะธ"
    # ... ะธ ัะฐะบ ะดะฐะปะตะต
ะะพะณะธะบะฐ: ะะพ ะบะปััะตะฒัะผ ัะปะพะฒะฐะผ ะฒ ะฝะฐะทะฒะฐะฝะธะธ ะพะฟัะตะดะตะปัะตะผ ะพััะฐัะปั ะบะพะผะฟะฐะฝะธะธ.

๐ฌ 2. ClusterAnalyzer โ ะบะปะฐััะตัะฝัะน ะฐะฝะฐะปะธะท
2.1 ะัะฑะพั ะฟัะธะทะฝะฐะบะพะฒ ะดะปั ะบะปะฐััะตัะธะทะฐัะธะธ
python
cluster_features = [
    "PE", "PB", "PS", "ROE", "Debt_Capital", "Beta"
]
ะะพัะตะผั ะธะผะตะฝะฝะพ ััะธ ะฟัะธะทะฝะฐะบะธ:

P/E, P/B, P/S โ ะผัะปััะธะฟะปะธะบะฐัะพัั ััะพะธะผะพััะธ (ัะฐะทะผะตัะฝะพััั)

ROE โ ัะตะฝัะฐะฑะตะปัะฝะพััั (ะบะฐัะตััะฒะพ)

Debt/Capital โ ัะธะฝะฐะฝัะพะฒะฐั ัััะพะนัะธะฒะพััั (ัะธัะบ)

Beta โ ััะฝะพัะฝัะน ัะธัะบ (ะฒะพะปะฐัะธะปัะฝะพััั)

2.2 ะะพะธัะบ ะพะฟัะธะผะฐะปัะฝะพะณะพ ะบะพะปะธัะตััะฒะฐ ะบะปะฐััะตัะพะฒ
python
def find_optimal_clusters(self, df, features, max_clusters):
    # ะะปั k ะพั 2 ะดะพ max_clusters:
    for k in range(2, max_clusters + 1):
        kmeans = KMeans(n_clusters=k)
        labels = kmeans.fit_predict(scaled_data)
        
        # ะะตัะพะด ะปะพะบัั (inertia) - ััะผะผะฐ ะบะฒะฐะดัะฐัะพะฒ ัะฐัััะพัะฝะธะน ะดะพ ัะตะฝััะพะธะดะพะฒ
        inertias.append(kmeans.inertia_)
        
        # ะะพัััะธัะธะตะฝั ัะธะปัััะฐ (silhouette) - ะบะฐัะตััะฒะพ ะบะปะฐััะตัะธะทะฐัะธะธ
        silhouette_scores.append(silhouette_score(scaled_data, labels))
ะะฐัะตะผะฐัะธัะตัะบะธ:

Inertia = $\sum_{i=1}^{n} \min_{\mu_j \in C} ||x_i - \mu_j||^2$ (ัะตะผ ะผะตะฝััะต, ัะตะผ ะปัััะต)

Silhouette = $\frac{b(i) - a(i)}{\max(a(i), b(i))}$ (ะพั -1 ะดะพ 1, ัะตะผ ะฑะปะธะถะต ะบ 1, ัะตะผ ะปัััะต)

2.3 KMeans ะฐะปะณะพัะธัะผ
python
kmeans = KMeans(
    n_clusters=optimal_k,
    n_init=10,  # 10 ัะฐะทะฝัั ะธะฝะธัะธะฐะปะธะทะฐัะธะน
    random_state=42
)
ะะฐะบ ัะฐะฑะพัะฐะตั K-means:

text
1. ะกะปััะฐะนะฝะพ ะฒัะฑะธัะฐะตะผ k ัะตะฝััะพะธะดะพะฒ
2. ะะปั ะบะฐะถะดะพะน ัะพัะบะธ: ะฟัะธัะฒะพะธัั ะบ ะฑะปะธะถะฐะนัะตะผั ัะตะฝััะพะธะดั
3. ะะตัะตััะธัะฐัั ัะตะฝััะพะธะดั ะบะฐะบ ััะตะดะฝะตะต ัะพัะตะบ ะฒ ะบะปะฐััะตัะต
4. ะะพะฒัะพัััั ัะฐะณะธ 2-3 ะฟะพะบะฐ ัะตะฝััะพะธะดั ะฝะต ััะฐะฑะธะปะธะทะธัััััั
2.4 PCA ะดะปั ะฒะธะทัะฐะปะธะทะฐัะธะธ
python
pca = PCA(n_components=2)  # ะฃะผะตะฝััะฐะตะผ ัะฐะทะผะตัะฝะพััั ะดะพ 2D
pca_result = pca.fit_transform(scaled_data)
ะะฐัะตะผ: ะั ะฝะต ะผะพะถะตะผ ะฒะธะทัะฐะปะธะทะธัะพะฒะฐัั ะดะฐะฝะฝัะต ะฒ 6-ะผะตัะฝะพะผ ะฟัะพัััะฐะฝััะฒะต, PCA ะฟัะพะตัะธััะตั ะธั ะฝะฐ ะฟะปะพัะบะพััั ั ะผะฐะบัะธะผะฐะปัะฝัะผ ัะพััะฐะฝะตะฝะธะตะผ ะดะธัะฟะตััะธะธ.

2.5 ะะฝัะตัะฟัะตัะฐัะธั ะบะปะฐััะตัะพะฒ
ะะพัะปะต ะบะปะฐััะตัะธะทะฐัะธะธ ะบะฐะถะดัะน ะบะปะฐััะตั ะฟะพะปััะฐะตั ัะฐัะฐะบัะตัะธััะธะบะธ:

python
class ClusterCharacteristics:
    cluster_id: int
    size: int
    avg_pe: float
    avg_pb: float
    avg_roe: float
    avg_div_yield: float
    avg_risk: float
    description: str      # "ะะปัะฑะพะบะพะน ััะพะธะผะพััะธ", "ะะพััะฐ" ะธ ั.ะด.
    recommendation: str   # "ะะณัะตััะธะฒะฝะฐั ะฟะพะบัะฟะบะฐ", "ะะตัะถะฐัั" ะธ ั.ะด.
๐ 3. FundamentalAnalyzer โ ััะฝะดะฐะผะตะฝัะฐะปัะฝัะน ะฐะฝะฐะปะธะท
3.1 ะงะตัััะตัะผะตัะฝัะน ัะบะพัะธะฝะณ
ะะฐะถะดะฐั ะบะพะผะฟะฐะฝะธั ะฟะพะปััะฐะตั 4 ัะบะพัะฐ ะพั 0 ะดะพ 100:

ะกะบะพั	ะคะพัะผัะปะฐ	ะกะผััะป
Value Score	ะะฐ ะพัะฝะพะฒะต P/E, P/B	ะะฐัะบะพะปัะบะพ ะดะตัะตะฒะพ
Quality Score	ะะฐ ะพัะฝะพะฒะต ROE, ะดะพะปะณะฐ	ะะฐัะบะพะปัะบะพ ะบะฐัะตััะฒะตะฝะฝะพ
Growth Score	ะะฐ ะพัะฝะพะฒะต ROE, P/S	ะะพัะตะฝัะธะฐะป ัะพััะฐ
Income Score	ะะฐ ะพัะฝะพะฒะต ะดะธะฒ. ะดะพัะพะดะฝะพััะธ	ะะพัะพะดะฝะพััั ะดะปั ะธะฝะฒะตััะพัะฐ
3.2 ะัะธะผะตั ัะฐััะตัะฐ Value Score
python
def calculate_value_score(row):
    score = 50  # ะะฐะทะพะฒัะน ัะบะพั
    
    if row["PE"] < 5:      score += 20  # ะัะตะฝั ะดะตัะตะฒะพ
    elif row["PE"] < 8:    score += 15  # ะะตัะตะฒะพ
    elif row["PE"] < 12:   score += 10  # ะกะฟัะฐะฒะตะดะปะธะฒะพ
    elif row["PE"] > 25:   score -= 15  # ะะพัะพะณะพ
    
    if row["PB"] < 0.5:    score += 15  # ะกะธะปัะฝะพ ะฝะตะดะพะพัะตะฝะตะฝะฐ
    elif row["PB"] < 0.8:  score += 10  # ะะตะดะพะพัะตะฝะตะฝะฐ
    elif row["PB"] < 1.2:  score += 5   # ะกะฟัะฐะฒะตะดะปะธะฒะพ
    elif row["PB"] > 3:    score -= 10  # ะะตัะตะพัะตะฝะตะฝะฐ
    
    return max(0, min(100, score))  # ะะณัะฐะฝะธัะธะฒะฐะตะผ ะพั 0 ะดะพ 100
3.3 ะะฐััะตั ะพะถะธะดะฐะตะผะพะน ะดะพัะพะดะฝะพััะธ
ะะฐะทะพะฒะฐั ะดะพัะพะดะฝะพััั = 12% + ะฟัะตะผะธะธ ะทะฐ ััะฝะดะฐะผะตะฝัะฐะปัะฝัะต ัะฐะบัะพัั:

python
def calculate_expected_return(row):
    base_return = 0.12  # 12% ะฑะฐะทะพะฒะฐั ะดะพัะพะดะฝะพััั
    
    if row["PE"] < 5:     base_return += 0.05  # +5% ะทะฐ ััะฟะตั-ะดะตัะตะฒะธะทะฝั
    if row["PB"] < 0.5:   base_return += 0.04  # +4% ะทะฐ ะฝะตะดะพะพัะตะฝะบั
    if row["ROE"] > 20:   base_return += 0.03  # +3% ะทะฐ ัะตะฝัะฐะฑะตะปัะฝะพััั
    
    # ะะธะฒะธะดะตะฝะดั ะดะพะฑะฐะฒะปััั ะฟััะผะพ ะฟัะพะฟะพััะธะพะฝะฐะปัะฝะพ
    base_return += row["Div_Yield"] / 100 * 0.5
    
    return min(0.35, base_return)  # ะะต ะฒััะต 35%
3.4 ะะฐััะตั ัะธัะบะฐ
ะะฐะทะพะฒะฐั ะฒะพะปะฐัะธะปัะฝะพััั = 20% + ะบะพััะตะบัะธัะพะฒะบะธ:

python
def calculate_risk(row):
    base_risk = 0.20
    
    # ะะตัะฐ ะฒััะต 1 ัะฒะตะปะธัะธะฒะฐะตั ัะธัะบ
    if row["Beta"] > 1.2:   base_risk += 0.05
    elif row["Beta"] > 1.0: base_risk += 0.02
    
    # ะััะพะบะธะน ะดะพะปะณ ัะฒะตะปะธัะธะฒะฐะตั ัะธัะบ
    if row["Debt_Capital"] > 70: base_risk += 0.08
    elif row["Debt_Capital"] > 50: base_risk += 0.04
    
    # ะััััััะฒะธะต P/E (ัะฑััะพัะฝะพััั) ัะฒะตะปะธัะธะฒะฐะตั ัะธัะบ
    if pd.isna(row["PE"]) or row["PE"] < 0: base_risk += 0.10
    
    return max(0.12, min(0.40, base_risk))  # ะั 12% ะดะพ 40%
๐ 4. PortfolioOptimizer โ ะพะฟัะธะผะธะทะฐัะธั ะฟะพัััะตะปั
4.1 ะะฐััะธัะฐ ะบะพะฒะฐัะธะฐัะธะธ ั ััะตัะพะผ ะบะปะฐััะตัะพะฒ
ะะปััะตะฒะฐั ะธะฝะฝะพะฒะฐัะธั: ัะฐะทะฝะฐั ะบะพััะตะปััะธั ะฒะฝัััะธ ะธ ะผะตะถะดั ะบะปะฐััะตัะฐะผะธ

python
def create_covariance_matrix(self, df):
    n = len(df)
    cov_matrix = np.zeros((n, n))
    risks = df["Risk"].values
    
    for i in range(n):
        for j in range(n):
            if i == j:
                cov_matrix[i, j] = risks[i] ** 2  # ะะธัะฟะตััะธั
            else:
                # ะะฝัััะธ ะบะปะฐััะตัะฐ - ะฒััะพะบะฐั ะบะพััะตะปััะธั (0.5)
                # ะะตะถะดั ะบะปะฐััะตัะฐะผะธ - ะฝะธะทะบะฐั ะบะพััะตะปััะธั (0.2)
                if df.iloc[i]["Cluster"] == df.iloc[j]["Cluster"]:
                    corr = 0.5
                else:
                    corr = 0.2
                    
                cov_matrix[i, j] = corr * risks[i] * risks[j]
ะะฐัะตะผะฐัะธัะตัะบะธ: ะะพะฒะฐัะธะฐัะธั = ะบะพััะตะปััะธั ร ฯโ ร ฯโ

4.2 ะกะตะผั ัะฐะทะปะธัะฝัั ะธะฝะฒะตััะธัะธะพะฝะฝัั ัััะฐัะตะณะธะน
python
strategies = {
    "aggressive":  # ะะฐะบัะธะผัะผ ะดะพัะพะดะฝะพััะธ
        weights = expected_returns / expected_returns.sum()
    
    "conservative": # ะะธะฝะธะผัะผ ัะธัะบะฐ  
        weights = (1/risks) / sum(1/risks)
    
    "balanced":     # ะกะฑะฐะปะฐะฝัะธัะพะฒะฐะฝะฝัะน
        weights = (value_score + quality_score) / 2
    
    "value":        # ะกัะพะธะผะพััะฝะพะน
        weights = value_score / value_score.sum()
    
    "growth":       # ะะพััะฐ
        weights = growth_score / growth_score.sum()
    
    "dividend":     # ะะธะฒะธะดะตะฝะดะฝัะน
        weights = income_score / income_score.sum()
    
    "cluster_based": # ะะปะฐััะตัะฝัะน
        # ะะฐะฒะฝัะต ะฒะตัะฐ ะบะปะฐััะตัะพะฒ, ะฒะฝัััะธ ะบะปะฐััะตัะฐ - ะฟะพัะพะฒะฝั
        cluster_weight = 1 / n_clusters
        per_stock = cluster_weight / len(cluster_indices)
}
๐ผ 5. PortfolioManager โ ัะฟัะฐะฒะปะตะฝะธะต ะฟะพัััะตะปะตะผ
5.1 ะะตััะธะบะธ ะฟะพัััะตะปั
python
class PortfolioMetrics:
    expected_return: float   # โ w_i * r_i
    risk: float              # โ(w^T ฮฃ w)
    sharpe_ratio: float      # return / risk
    diversification_score: float  # 1 - (HHI - 1/n)/(1 - 1/n)
ะะฝะดะตะบั ะดะธะฒะตััะธัะธะบะฐัะธะธ ะฅะตััะธะฝะดะฐะปั-ะฅะธััะผะฐะฝะฐ:

$HHI = \sum w_i^2$

$Div = 1 - \frac{HHI - 1/n}{1 - 1/n}$

Div = 1 โ ะธะดะตะฐะปัะฝะพ ะดะธะฒะตััะธัะธัะธัะพะฒะฐะฝ

Div = 0 โ ะฟะพะปะฝะพัััั ัะบะพะฝัะตะฝััะธัะพะฒะฐะฝ

๐จ 6. PortfolioVisualizer โ ะฒะธะทัะฐะปะธะทะฐัะธั
6.1 ะงะตัััะต ัะธะฟะฐ ะณัะฐัะธะบะพะฒ
ะัะฐัะธะบ	ะงัะพ ะฟะพะบะฐะทัะฒะฐะตั
PCA ะฟัะพะตะบัะธั	ะะพะผะฟะฐะฝะธะธ ะฒ 2D ะฟัะพัััะฐะฝััะฒะต, ัะตะฝััะพะธะดั ะบะปะฐััะตัะพะฒ
P/B vs ROE	ะะฐัะฟัะตะดะตะปะตะฝะธะต ะบะปะฐััะตัะพะฒ ะฟะพ ััะพะธะผะพััะธ ะธ ัะตะฝัะฐะฑะตะปัะฝะพััะธ
ะะฐะทะผะตัั ะบะปะฐััะตัะพะฒ	ะกะบะพะปัะบะพ ะบะพะผะฟะฐะฝะธะน ะฒ ะบะฐะถะดะพะผ ะบะปะฐััะตัะต
ะัะพัะธะปะธ ะบะปะฐััะตัะพะฒ	ะขะตะบััะพะฒะพะต ะพะฟะธัะฐะฝะธะต ัะฐัะฐะบัะตัะธััะธะบ
6.2 ะกัะฐะฒะฝะตะฝะธะต ะฟะพัััะตะปะตะน
text
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโ
โ  Risk-Return    โ  Sharpe Ratio   โ
โ  ะัะต ะฟะพัััะตะปะธ   โ  ะกัะฐะฒะฝะตะฝะธะต      โ
โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโค
โ  ะะธะฒะตััะธัะธะบะฐัะธั โ  ะัััะธะน ะฟะพัััะตะปัโ
โ  ะฟะพ ะฟะพัััะตะปัะผ  โ  ั ะดะตัะฐะปัะผะธ    โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโ
๐ 7. ReportGenerator โ ะณะตะฝะตัะฐัะธั ะพััะตัะพะฒ
ะกะพะทะดะฐะตั Excel-ัะฐะนะป ั 4 ะปะธััะฐะผะธ:

Portfolio Summary โ ัะฒะพะดะบะฐ ะฟะพ ะฒัะตะผ ะฟะพัััะตะปัะผ

ะะพัััะตะปั_X โ ะดะตัะฐะปัะฝัะน ัะพััะฐะฒ ะบะฐะถะดะพะณะพ ะฟะพัััะตะปั

Cluster Profiles โ ัะฐัะฐะบัะตัะธััะธะบะธ ะบะปะฐััะตัะพะฒ

All Companies โ ะฒัะต ะบะพะผะฟะฐะฝะธะธ ั ะฟัะธัะฒะพะตะฝะฝัะผะธ ะบะปะฐััะตัะฐะผะธ

๐ 8. ะัะฝะพะฒะฝะพะน ะฟะฐะนะฟะปะฐะนะฝ โ ะบะฐะบ ะฒัะต ัะพะตะดะธะฝัะตััั
python
def create_model_cluster_analysis_with_portfolio():
    # 1. ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั
    df = loader.load_and_clean_data()
    
    # 2. ะะปะฐััะตัะธะทะฐัะธั
    optimal_k = cluster_analyzer.find_optimal_clusters()
    df_clustered = cluster_analyzer.fit_predict(features, optimal_k)
    cluster_profiles = cluster_analyzer.analyze_clusters()
    
    # 3. ะคัะฝะดะฐะผะตะฝัะฐะปัะฝัะน ะฐะฝะฐะปะธะท
    df["Value_Score"] = fundamental.calculate_value_score()
    df["Quality_Score"] = fundamental.calculate_quality_score()
    df["Expected_Return"] = fundamental.calculate_expected_return()
    df["Risk"] = fundamental.calculate_risk()
    
    # 4. ะัะฑะพั ะบะฐะฝะดะธะดะฐัะพะฒ
    candidates = df[ (Market_Cap > 50 ะผะปัะด) & 
                     (Expected_Return > 10%) & 
                     (Risk < 35%) ]
    
    # 5. ะะฟัะธะผะธะทะฐัะธั 7 ะฟะพัััะตะปะตะน
    portfolios = optimizer.optimize_multi_portfolio(candidates)
    
    # 6. ะะธะทัะฐะปะธะทะฐัะธั
    visualizer.plot_portfolio_comparison(portfolios)
    
    # 7. ะััะตัั
    report_generator.generate_full_report(portfolios, cluster_profiles)
    
    return portfolios, cluster_profiles
๐ง ะะฐัะตะผะฐัะธัะตัะบะฐั ะผะพะดะตะปั ัะธััะตะผั
ะฆะตะปั ะบะปะฐััะตัะธะทะฐัะธะธ:
ะะฐะนัะธ ัะฐะทะฑะธะตะฝะธะต $C = {C_1, C_2, ..., C_k}$, ะผะธะฝะธะผะธะทะธััััะตะต:

โ
j
=
1
k
โ
x
i
โ
C
j
โฃ
โฃ
x
i
โ
ฮผ
j
โฃ
โฃ
2
โ 
j=1
k
โ
 โ 
x 
i
โ
 โC 
j
โ
 
โ
 โฃโฃx 
i
โ
 โฮผ 
j
โ
 โฃโฃ 
2
 

ะณะดะต $\mu_j = \frac{1}{|C_j|} \sum_{x_i \in C_j} x_i$ โ ัะตะฝััะพะธะด ะบะปะฐััะตัะฐ.

ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ ะบะปะฐััะตัะธะทะฐัะธะธ:
S
i
l
h
o
u
e
t
t
e
(
i
)
=
b
(
i
)
โ
a
(
i
)
max
โก
(
a
(
i
)
,
b
(
i
)
)
Silhouette(i)= 
max(a(i),b(i))
b(i)โa(i)
โ
 

$a(i)$ โ ััะตะดะฝะตะต ัะฐัััะพัะฝะธะต ะดะพ ัะพัะตะบ ัะฒะพะตะณะพ ะบะปะฐััะตัะฐ

$b(i)$ โ ััะตะดะฝะตะต ัะฐัััะพัะฝะธะต ะดะพ ัะพัะตะบ ัะพัะตะดะฝะตะณะพ ะบะปะฐััะตัะฐ

ะะฟัะธะผะธะทะฐัะธั ะฟะพัััะตะปั:
ะะปั ะบะฐะถะดะพะณะพ ะฟะพัััะตะปั ะธัะตะผ ะฒะตัะฐ $w$, ะผะฐะบัะธะผะธะทะธััััะธะต:

S
h
a
r
p
e
=
โ
w
i
r
i
w
T
ฮฃ
w
Sharpe= 
w 
T
 ฮฃw
โ
 
โw 
i
โ
 r 
i
โ
 
โ
 

ะัะธ ะพะณัะฐะฝะธัะตะฝะธัั:

$\sum w_i = 1$ (ะฟะพะปะฝะพะต ะธะฝะฒะตััะธัะพะฒะฐะฝะธะต)

$0.01 \leq w_i \leq 0.15$ (ะดะธะฒะตััะธัะธะบะฐัะธั)

ะะพะฒะฐัะธะฐัะธะพะฝะฝะฐั ััััะบัััะฐ ั ะบะปะฐััะตัะฐะผะธ:
\sigma_i^2 & i = j \\ \rho_{intra} \sigma_i \sigma_j & i,j \in C_m \\ \rho_{inter} \sigma_i \sigma_j & i \in C_