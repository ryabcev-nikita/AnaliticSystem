üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    AUTOENCODER PORTFOLIO SYSTEM                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ  ‚îÇ DataLoader   ‚îÇ ‚Üí ‚îÇ Autoencoder  ‚îÇ ‚Üí ‚îÇ Anomaly      ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ –ó–∞–≥—Ä—É–∑–∫–∞     ‚îÇ    ‚îÇ –û–±—É—á–µ–Ω–∏–µ    ‚îÇ    ‚îÇ Detection   ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ –¥–∞–Ω–Ω—ã—Ö      ‚îÇ    ‚îÇ –Ω–∞ –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö‚îÇ    ‚îÇ IQR –º–µ—Ç–æ–¥   ‚îÇ              ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                           ‚îÇ                    ‚îÇ                        ‚îÇ
‚îÇ                           ‚ñº                    ‚ñº                        ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ                    ‚îÇ Undervalued  ‚îÇ ‚Üê ‚îÇ Ideal Profile‚îÇ                ‚îÇ
‚îÇ                    ‚îÇ Scoring      ‚îÇ    ‚îÇ –†–∞—Å—á–µ—Ç      ‚îÇ                ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                           ‚îÇ                    ‚îÇ                        ‚îÇ
‚îÇ                           ‚ñº                    ‚ñº                        ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ                    ‚îÇ Portfolio    ‚îÇ    ‚îÇ Covariance   ‚îÇ                ‚îÇ
‚îÇ                    ‚îÇ Optimizer    ‚îÇ ‚Üê ‚îÇ Matrix       ‚îÇ                ‚îÇ
‚îÇ                    ‚îÇ –ú–∞—Ä–∫–æ–≤–∏—Ü    ‚îÇ    ‚îÇ —Å –æ—à–∏–±–∫–∞–º–∏  ‚îÇ                ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                           ‚îÇ                    ‚îÇ                        ‚îÇ
‚îÇ                           ‚ñº                    ‚ñº                        ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ                    ‚îÇ Portfolio    ‚îÇ    ‚îÇ Visualizer  ‚îÇ                ‚îÇ
‚îÇ                    ‚îÇ Manager     ‚îÇ ‚Üê ‚îÇ –∏ –æ—Ç—á–µ—Ç—ã   ‚îÇ                ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
üì• 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (AEDataLoader)
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ß–∏—Ç–∞–µ—Ç Excel-—Ñ–∞–π–ª —Å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "1 234 –º–ª–Ω" ‚Üí 1234000000)

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è

–ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

python
def load_and_prepare_excel_data(file_path):
    df = pd.read_excel(file_path)
    
    # –ó–∞–º–µ–Ω–∞ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ –º–ª–Ω/–º–ª—Ä–¥
    df[col] = df[col].str.replace("–º–ª–Ω", "*1e6", regex=False)
    df[col] = df[col].str.replace("–º–ª—Ä–¥", "*1e9", regex=False)
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
    df["dividend_yield"] = df["–î–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å"] / 100
    
    return df
üß† 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≤—Ç–æ—ç–Ω–∫–æ–¥–µ—Ä–∞ (AnomalyDetectorAE)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏:
text
–í—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π (input_size)
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: input_size ‚Üí 64 ‚Üí ReLU
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 64 ‚Üí 32 ‚Üí ReLU
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 32 ‚Üí 16 ‚Üí ReLU
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 16 ‚Üí 8 (LATENT SPACE - –±—É—Ç—ã–ª–æ—á–Ω–æ–µ –≥–æ—Ä–ª—ã—à–∫–æ)
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 8 ‚Üí 16 ‚Üí ReLU
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 16 ‚Üí 32 ‚Üí ReLU
    ‚Üì
–õ–∏–Ω–µ–π–Ω—ã–π —Å–ª–æ–π: 32 ‚Üí 64 ‚Üí ReLU
    ‚Üì
–í—ã—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π: 64 ‚Üí input_size (—Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏: –ê–≤—Ç–æ—ç–Ω–∫–æ–¥–µ—Ä —É—á–∏—Ç—Å—è —Å–∂–∏–º–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∏–∑–∫–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (latent space) –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö –æ–±—Ä–∞—Ç–Ω–æ.

–§—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å:
L
=
1
N
‚àë
i
=
1
N
‚à£
‚à£
x
i
‚àí
x
^
i
‚à£
‚à£
2
L= 
N
1
‚Äã
 ‚àë 
i=1
N
‚Äã
 ‚à£‚à£x 
i
‚Äã
 ‚àí 
x
^
  
i
‚Äã
 ‚à£‚à£ 
2
 

–ì–¥–µ:

$x_i$ ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

$\hat{x}_i$ ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä

üîç 3. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π
3.1 –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
python
model = AnomalyDetectorAE(input_size)
criterion = nn.MSELoss()
optimizer = optim.Adam(model.parameters(), lr=0.001)

for epoch in range(100):
    for batch in dataloader:
        _, reconstructed = model(inputs)
        loss = criterion(reconstructed, inputs)
        loss.backward()
        optimizer.step()
3.2 –†–∞—Å—á–µ—Ç –æ—à–∏–±–æ–∫ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤—ã—á–∏—Å–ª—è–µ–º:
e
r
r
o
r
i
=
‚à£
‚à£
x
i
‚àí
x
^
i
‚à£
‚à£
2
error 
i
‚Äã
 =‚à£‚à£x 
i
‚Äã
 ‚àí 
x
^
  
i
‚Äã
 ‚à£‚à£ 
2
 

–ß–µ–º –≤—ã—à–µ –æ—à–∏–±–∫–∞, —Ç–µ–º –±–æ–ª–µ–µ "–∞–Ω–æ–º–∞–ª—å–Ω–∞" –∫–æ–º–ø–∞–Ω–∏—è ‚Äî –µ–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–∏–ø–∏—á–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º —Ä—ã–Ω–∫–∞.

3.3 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ –∞–Ω–æ–º–∞–ª–∏–π (IQR –º–µ—Ç–æ–¥)
python
error_median = np.median(errors)
error_q1 = np.percentile(errors, 25)
error_q3 = np.percentile(errors, 75)
error_iqr = error_q3 - error_q1

# –ü–æ—Ä–æ–≥ –¥–ª—è –∞–Ω–æ–º–∞–ª–∏–π: Q3 + 1.5 * IQR
anomaly_threshold = error_q3 + 1.5 * error_iqr

# –ü–æ—Ä–æ–≥ –¥–ª—è —Å–∏–ª—å–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π: Q3 + 3 * IQR
strong_anomaly_threshold = error_q3 + 3 * error_iqr
–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª:

–ö–æ–º–ø–∞–Ω–∏–∏ —Å –æ—à–∏–±–∫–æ–π > Q3 + 1.5√óIQR ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–±—Ä–æ—Å—ã

–ß–µ–º –≤—ã—à–µ –æ—à–∏–±–∫–∞, —Ç–µ–º –±–æ–ª–µ–µ –Ω–µ–æ–±—ã—á–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è

üéØ 4. –û—Ü–µ–Ω–∫–∞ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏
4.1 –°–æ–∑–¥–∞–Ω–∏–µ "–∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è"
python
# –ë–µ—Ä–µ–º –∫–æ–º–ø–∞–Ω–∏–∏ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
low_error_mask = errors < error_median
good_companies = X[low_error_mask]

# –ò—Ö –º–µ–¥–∏–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = "–∏–¥–µ–∞–ª—å–Ω—ã–π" –ø—Ä–æ—Ñ–∏–ª—å
ideal_profile = np.median(good_companies, axis=0)
–ò–¥–µ—è: –ö–æ–º–ø–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ä–æ—à–æ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É—é—Ç—Å—è (–Ω–∏–∑–∫–∞—è –æ—à–∏–±–∫–∞), –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç "–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ" –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä—ã–Ω–∫–∞. –ò—Ö —Å—Ä–µ–¥–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ‚Äî —ç—Ç–æ —Ç–æ, –∫–∞–∫–æ–π –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å "—Ç–∏–ø–∏—á–Ω–∞—è" –∫–æ–º–ø–∞–Ω–∏—è.

4.2 –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–∞ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏
–î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤—ã—á–∏—Å–ª—è–µ–º –¥–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

A. –û—à–∏–±–∫–∞-—Å–∫–æ—Ä (error_score)
e
r
r
o
r
_
s
c
o
r
e
=
e
‚àí
e
r
r
o
r
i
/
e
r
r
o
r
_
m
e
d
i
a
n
error_score=e 
‚àíerror 
i
‚Äã
 /error_median
 

–ß–µ–º –º–µ–Ω—å—à–µ –æ—à–∏–±–∫–∞, —Ç–µ–º –±–ª–∏–∂–µ –∫ 1

–ß–µ–º –±–æ–ª—å—à–µ –æ—à–∏–±–∫–∞ (–∞–Ω–æ–º–∞–ª–∏—è), —Ç–µ–º –±–ª–∏–∂–µ –∫ 0

B. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫–æ—Ä (fundamental_score)
–î–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –≥–¥–µ –º–µ–Ω—å—à–µ = –ª—É—á—à–µ (P/E, P/B, P/S):

python
if current_val < ideal_val * 0.7:  # –ù–∞ 30% –Ω–∏–∂–µ –∏–¥–µ–∞–ª–∞
    score += 2  # –°–∏–ª—å–Ω–æ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞
elif current_val < ideal_val:       # –ù–∏–∂–µ –∏–¥–µ–∞–ª–∞
    score += 1  # –ù–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞
–î–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –≥–¥–µ –±–æ–ª—å—à–µ = –ª—É—á—à–µ (ROE, ROA):

python
if current_val > ideal_val * 1.3:   # –ù–∞ 30% –≤—ã—à–µ –∏–¥–µ–∞–ª–∞
    score += 2  # –°–∏–ª—å–Ω–æ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞
elif current_val > ideal_val:        # –í—ã—à–µ –∏–¥–µ–∞–ª–∞
    score += 1  # –ù–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞
4.3 –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–æ—Ä
c
o
m
b
i
n
e
d
_
s
c
o
r
e
=
e
r
r
o
r
_
s
c
o
r
e
√ó
(
1
+
f
u
n
d
a
m
e
n
t
a
l
_
s
c
o
r
e
2
√ó
n
f
e
a
t
u
r
e
s
)
combined_score=error_score√ó(1+ 
2√ón 
features
‚Äã
 
fundamental_score
‚Äã
 )

–õ–æ–≥–∏–∫–∞:

–ë–∞–∑–æ–≤—ã–π —Å–∫–æ—Ä = –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (error_score)

–£–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ (1 + —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å)

–ß–µ–º –ª—É—á—à–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–¥–µ–∞–ª–∞, —Ç–µ–º –≤—ã—à–µ –±–æ–Ω—É—Å

4.4 –†–∞–Ω–≥ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏
python
percentile = (sum(scores <= current_score) / len(scores)) * 100
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥–∏—Ö (95% = –≤ —Ç–æ–ø-5%).

üìä 5. –†–∞—Å—á–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
5.1 –û–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ = 12% + –ø—Ä–µ–º–∏–∏:

python
def calculate_expected_return(row):
    base = 0.12
    
    # –ü—Ä–µ–º–∏—è –∑–∞ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç—å
    base += row["AE_–ù–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç—å"] * 0.08  # –¥–æ +8%
    
    # –ü—Ä–µ–º–∏—è –∑–∞ —Ç–æ–ø-–Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ
    if row["AE_–¢–æ–ø_–Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ"]:
        base += 0.04  # +4%
    
    # –®—Ç—Ä–∞—Ñ –∑–∞ –∞–Ω–æ–º–∞–ª–∏–∏
    if row["AE_–ê–Ω–æ–º–∞–ª–∏—è"]:
        base -= 0.03  # -3%
    if row["AE_–°–∏–ª—å–Ω–∞—è_–∞–Ω–æ–º–∞–ª–∏—è"]:
        base -= 0.06  # -6%
    
    # P/E –ø—Ä–µ–º–∏—è
    if row["P_E"] < 5:   base += 0.05
    elif row["P_E"] < 8: base += 0.03
    
    # ROE –ø—Ä–µ–º–∏—è
    if row["ROE"] > 20:  base += 0.04
    elif row["ROE"] > 15: base += 0.02
    
    # –î–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –ø—Ä–µ–º–∏—è
    base += row["dividend_yield"] * 0.5
    
    return max(0.05, min(0.35, base))  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 5-35%
5.2 –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Ä–∏—Å–∫)
–ë–∞–∑–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å = 20% + –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:

python
def calculate_volatility(row):
    base = 0.20
    
    # –û—à–∏–±–∫–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫
    base += row["AE_–û—à–∏–±–∫–∞_—Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"] * 0.5
    
    # –ê–Ω–æ–º–∞–ª–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Ä–∏—Å–∫
    if row["AE_–ê–Ω–æ–º–∞–ª–∏—è"]:        base += 0.05
    if row["AE_–°–∏–ª—å–Ω–∞—è_–∞–Ω–æ–º–∞–ª–∏—è"]: base += 0.10
    
    # –ë–µ—Ç–∞-–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
    base *= (0.5 + 0.5 * row.get("–ë–µ—Ç–∞", 1))
    
    # –î–æ–ª–≥–æ–≤–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
    base *= (0.8 + 0.02 * row.get("debt_capital", 0))
    
    return max(0.10, min(0.50, base))  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 10-50%
üìê 6. –ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –æ—à–∏–±–æ–∫
–ö–ª—é—á–µ–≤–∞—è –∏–Ω–Ω–æ–≤–∞—Ü–∏—è ‚Äî –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏ –æ—à–∏–±–æ–∫ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

python
def create_covariance_matrix(self, df):
    n = len(df)
    cov_matrix = np.zeros((n, n))
    risks = df["AE_Volatility"].values
    recon_errors = df["AE_–û—à–∏–±–∫–∞_—Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"].values
    
    error_median = np.median(recon_errors)
    
    for i in range(n):
        for j in range(n):
            if i == j:
                cov_matrix[i, j] = risks[i] ** 2
            else:
                error_diff = abs(recon_errors[i] - recon_errors[j])
                
                if error_diff < error_median * 0.5:
                    corr = 0.6   # –ü–æ—Ö–æ–∂–∏–µ –æ—à–∏–±–∫–∏ ‚Üí –≤—ã—Å–æ–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è
                elif error_diff < error_median * 1.0:
                    corr = 0.3   # –°—Ä–µ–¥–Ω—è—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è
                else:
                    corr = 0.1   # –†–∞–∑–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚Üí –Ω–∏–∑–∫–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è
                    
                cov_matrix[i, j] = corr * risks[i] * risks[j]
–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏:
Œ£
i
j
=
œÅ
(
e
i
,
e
j
)
‚ãÖ
œÉ
i
‚ãÖ
œÉ
j
Œ£ 
ij
‚Äã
 =œÅ(e 
i
‚Äã
 ,e 
j
‚Äã
 )‚ãÖœÉ 
i
‚Äã
 ‚ãÖœÉ 
j
‚Äã
 

–ì–¥–µ $\rho(e_i, e_j)$ ‚Äî –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è, –∑–∞–≤–∏—Å—è—â–∞—è –æ—Ç —Ä–∞–∑–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

üìà 7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è (—Ç—Ä–∏ —Ü–µ–ª–∏)
–¶–µ–ª–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
–ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –®–∞—Ä–ø–∞:
F
s
h
a
r
p
e
=
‚àë
w
i
r
i
‚àí
r
f
w
T
Œ£
w
‚Üí
max
‚Å°
F 
sharpe
‚Äã
 = 
w 
T
 Œ£w
‚Äã
 
‚àëw 
i
‚Äã
 r 
i
‚Äã
 ‚àír 
f
‚Äã
 
‚Äã
 ‚Üímax

–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–∞:
F
r
i
s
k
=
w
T
Œ£
w
‚Üí
min
‚Å°
F 
risk
‚Äã
 = 
w 
T
 Œ£w
‚Äã
 ‚Üímin

–ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏:
F
r
e
t
u
r
n
=
‚àë
w
i
r
i
‚Üí
max
‚Å°
F 
return
‚Äã
 =‚àëw 
i
‚Äã
 r 
i
‚Äã
 ‚Üímax

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
$\sum w_i = 1$ (–ø–æ–ª–Ω–æ–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

$0.01 \leq w_i \leq 0.15$ (–¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å:
python
combined_weights = 0.4 * w_sharpe + 0.3 * w_min_risk + 0.3 * w_max_return
üíº 8. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–µ–ª–∏
8.1 –ù–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ (Value)
python
weights = scores / scores.sum()
–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–∫–æ—Ä—É –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏.

8.2 –ë–µ–∑ –∞–Ω–æ–º–∞–ª–∏–π (Quality)
python
weights = (1/risk) / sum(1/risk)
–ß–µ–º –Ω–∏–∂–µ —Ä–∏—Å–∫ (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å), —Ç–µ–º –≤—ã—à–µ –≤–µ—Å.

8.3 –î–∏–≤–∏–¥–µ–Ω–¥–Ω—ã–π (Income)
python
weights = div_yield / div_yield.sum()
–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–∏–≤–∏–¥–µ–Ω–¥–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏.

8.4 –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
python
weights = 0.6 * (scores/scores.sum()) + 0.4 * ((1/risk)/(1/risk).sum())
–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç—å—é –∏ –Ω–∏–∑–∫–∏–º —Ä–∏—Å–∫–æ–º.

üìä 9. –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è
python
class PortfolioMetrics:
    expected_return = Œ£ w_i * r_i
    risk = ‚àö(w^T Œ£ w)
    sharpe_ratio = (expected_return - r_f) / risk
    var_95 = expected_return - 1.645 * risk  # Value at Risk 95%
    cvar_95 = expected_return - 2.063 * risk  # Conditional VaR 95%
    diversification_score = 1 - (HHI - 1/n)/(1 - 1/n)
–ì–¥–µ:

$HHI = \sum w_i^2$ ‚Äî –∏–Ω–¥–µ–∫—Å –•–µ—Ä—Ñ–∏–Ω–¥–∞–ª—è-–•–∏—Ä—à–º–∞–Ω–∞

$n$ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–æ–≤

üé® 10. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
10.1 –ê–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª–∏–π (4 –≥—Ä–∞—Ñ–∏–∫–∞)
–ì—Ä–∞—Ñ–∏–∫	–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫	–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ + –ø–æ—Ä–æ–≥–∏ –∞–Ω–æ–º–∞–ª–∏–π
Score vs Error	–°–≤—è–∑—å –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ—à–∏–±–∫–∏
P/E vs P/B	–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–æ–ø-–Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ê–ï	–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
10.2 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π (4 –≥—Ä–∞—Ñ–∏–∫–∞)
–ì—Ä–∞—Ñ–∏–∫	–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç
Risk-Return	–í—Å–µ –ø–æ—Ä—Ç—Ñ–µ–ª–∏ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
Sharpe —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ	–°—Ç–æ–ª–±—Ü—ã –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –®–∞—Ä–ø–∞
VaR —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ	–°—Ç–æ–ª–±—Ü—ã Value at Risk
–õ—É—á—à–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å	–î–µ—Ç–∞–ª–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è-–ø–æ–±–µ–¥–∏—Ç–µ–ª—è
10.3 –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è (4 –≥—Ä–∞—Ñ–∏–∫–∞)
–ì—Ä–∞—Ñ–∏–∫	–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç
–ê–Ω–æ–º–∞–ª–∏–∏	–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
Risk-Return	–ü–æ–∑–∏—Ü–∏–∏ —Å —Ä–∞–∑–º–µ—Ä–æ–º = –≤–µ—Å
–†–∏—Å–∫-–∫–æ–Ω—Ç—Ä–∏–±—É—Ü–∏—è	–í–∫–ª–∞–¥ –∫–∞–∂–¥–æ–π –∞–∫—Ü–∏–∏ –≤ —Ä–∏—Å–∫
–ú–µ—Ç—Ä–∏–∫–∏	–ß–∏—Å–ª–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
üîÑ 11. –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω
python
def main():
    # 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    df = AEDataLoader.load_and_prepare_excel_data(file_path)
    
    # 2. –û–±—É—á–µ–Ω–∏–µ –∞–≤—Ç–æ—ç–Ω–∫–æ–¥–µ—Ä–∞
    df_with_ae, model, scaler = detect_anomalies_with_ae(df)
    
    # 3. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –∞–Ω–æ–º–∞–ª–∏–π
    AEPortfolioVisualizer.plot_anomaly_analysis(df_with_ae)
    
    # 4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
    portfolios, candidates = create_portfolios_from_ae_results(df_with_ae)
    
    # 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
    AEPortfolioVisualizer.plot_portfolio_comparison(portfolios)
    AEPortfolioVisualizer.plot_portfolio_summary(best_portfolio)
    
    # 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    save_portfolio_results(df_with_ae, portfolios, candidates)
    
    # 7. –í—ã–≤–æ–¥ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
    print_recommendations(best_portfolio)
üß† –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –≤ —Ü–µ–ª–æ–º
–≠—Ç–∞–ø 1: –û–±—É—á–µ–Ω–∏–µ
min
‚Å°
Œ∏
1
N
‚àë
i
=
1
N
‚à£
‚à£
x
i
‚àí
f
d
e
c
(
f
e
n
c
(
x
i
)
)
‚à£
‚à£
2
min 
Œ∏
‚Äã
  
N
1
‚Äã
 ‚àë 
i=1
N
‚Äã
 ‚à£‚à£x 
i
‚Äã
 ‚àíf 
dec
‚Äã
 (f 
enc
‚Äã
 (x 
i
‚Äã
 ))‚à£‚à£ 
2
 

–≠—Ç–∞–ø 2: –û—Ü–µ–Ω–∫–∞
e
r
r
o
r
i
=
‚à£
‚à£
x
i
‚àí
x
^
i
‚à£
‚à£
2
error 
i
‚Äã
 =‚à£‚à£x 
i
‚Äã
 ‚àí 
x
^
  
i
‚Äã
 ‚à£‚à£ 
2
 
s
c
o
r
e
i
=
e
‚àí
e
r
r
o
r
i
/
m
e
d
i
a
n
(
e
r
r
o
r
)
√ó
(
1
+
‚àë
j
I
(
x
i
j
 –ª—É—á—à–µ –∏–¥–µ–∞–ª–∞
)
2
‚ãÖ
n
f
e
a
t
u
r
e
s
)
score 
i
‚Äã
 =e 
‚àíerror 
i
‚Äã
 /median(error)
 √ó(1+ 
2‚ãÖn 
features
‚Äã
 
‚àë 
j
‚Äã
 I(x 
ij
‚Äã
  –ª—É—á—à–µ –∏–¥–µ–∞–ª–∞)
‚Äã
 )

–≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
max
‚Å°
w
‚àë
w
i
r
i
w
T
Œ£
w
max 
w
‚Äã
  
w 
T
 Œ£w
‚Äã
 
‚àëw 
i
‚Äã
 r 
i
‚Äã
 
‚Äã
 
s.t. 
‚àë
w
i
=
1
,
0.01
‚â§
w
i
‚â§
0.15
s.t. ‚àëw 
i
‚Äã
 =1,0.01‚â§w 
i
‚Äã
 ‚â§0.15

–ì–¥–µ:

$\Sigma_{ij} = \rho(e_i, e_j) \cdot \sigma_i \cdot \sigma_j$

$\rho(e_i, e_j) = f(|e_i - e_j|)$

üí° –ö–ª—é—á–µ–≤—ã–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏
–ê–≤—Ç–æ—ç–Ω–∫–æ–¥–µ—Ä –∫–∞–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª–∏–π ‚Äî –≤—ã—è–≤–ª—è–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ —Å –Ω–µ–æ–±—ã—á–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

–ò–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ "—Ö–æ—Ä–æ—à–∏—Ö" –∫–æ–º–ø–∞–Ω–∏–π ‚Äî –±–∞–∑–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–æ—Ä –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî –æ—à–∏–±–∫–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—à–∏–±–æ–∫ ‚Äî –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∫–æ–≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äî 4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª—è + –ú–∞—Ä–∫–æ–≤–∏—Ü-–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π

–î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî 3 —É—Ä–æ–≤–Ω—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, –¥–µ—Ç–∞–ª–∏)